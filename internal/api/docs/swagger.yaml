definitions:
  entity.LoginRequest:
    properties:
      email:
        type: string
      password:
        type: string
    required:
    - email
    - password
    type: object
  entity.LoginResponse:
    properties:
      token:
        type: string
      user:
        $ref: '#/definitions/entity.UserResponse'
    type: object
  entity.MarkReadRequest:
    properties:
      notification_ids:
        items:
          type: string
        type: array
    required:
    - notification_ids
    type: object
  entity.MarketOverview:
    properties:
      avg_price:
        type: number
      most_popular:
        items:
          $ref: '#/definitions/entity.Skin'
        type: array
      recently_updated:
        items:
          $ref: '#/definitions/entity.Skin'
        type: array
      top_gainers:
        items:
          $ref: '#/definitions/entity.Skin'
        type: array
      top_losers:
        items:
          $ref: '#/definitions/entity.Skin'
        type: array
      total_skins:
        type: integer
      total_volume_24h:
        type: integer
      updated_at:
        type: string
    type: object
  entity.Notification:
    properties:
      created_at:
        type: string
      data:
        additionalProperties: true
        description: JSON данные
        type: object
      id:
        type: string
      is_read:
        type: boolean
      message:
        type: string
      priority:
        $ref: '#/definitions/entity.NotificationPriority'
      read_at:
        type: string
      title:
        type: string
      type:
        $ref: '#/definitions/entity.NotificationType'
      user_id:
        type: string
    type: object
  entity.NotificationListResponse:
    properties:
      notifications:
        items:
          $ref: '#/definitions/entity.Notification'
        type: array
      page:
        type: integer
      page_size:
        type: integer
      total:
        type: integer
      unread:
        type: integer
    type: object
  entity.NotificationPriority:
    enum:
    - low
    - normal
    - high
    - urgent
    type: string
    x-enum-varnames:
    - PriorityLow
    - PriorityNormal
    - PriorityHigh
    - PriorityUrgent
  entity.NotificationType:
    enum:
    - price_drop
    - price_increase
    - target_reached
    - skin_discovered
    - system_alert
    - watchlist_update
    type: string
    x-enum-varnames:
    - TypePriceDrop
    - TypePriceIncrease
    - TypeTargetReached
    - TypeSkinDiscovered
    - TypeSystemAlert
    - TypeWatchlistUpdate
  entity.PriceChartData:
    properties:
      price:
        type: number
      timestamp:
        type: string
      volume:
        type: integer
    type: object
  entity.PriceChartResponse:
    properties:
      avg_price:
        type: number
      data_points:
        items:
          $ref: '#/definitions/entity.PriceChartData'
        type: array
      max_price:
        type: number
      min_price:
        type: number
      period:
        description: 24h, 7d, 30d, 90d, 1y, all
        type: string
      skin_id:
        type: string
      total_volume:
        type: integer
    type: object
  entity.PriceHistory:
    properties:
      currency:
        type: string
      id:
        type: integer
      price:
        type: number
      recorded_at:
        type: string
      skin_id:
        type: string
      source:
        type: string
      volume:
        type: integer
    type: object
  entity.RegisterRequest:
    properties:
      email:
        type: string
      password:
        minLength: 8
        type: string
      username:
        maxLength: 50
        minLength: 3
        type: string
    required:
    - email
    - password
    - username
    type: object
  entity.Skin:
    properties:
      created_at:
        type: string
      currency:
        type: string
      current_price:
        type: number
      highest_price:
        type: number
      id:
        type: string
      image_url:
        type: string
      last_updated:
        type: string
      lowest_price:
        type: number
      market_hash_name:
        type: string
      name:
        type: string
      price_change_7d:
        type: number
      price_change_24h:
        type: number
      quality:
        type: string
      rarity:
        type: string
      updated_at:
        type: string
      volume_24h:
        type: integer
      weapon:
        type: string
    type: object
  entity.SkinDetailResponse:
    properties:
      price_history:
        items:
          $ref: '#/definitions/entity.PriceHistory'
        type: array
      skin:
        $ref: '#/definitions/entity.Skin'
      statistics:
        $ref: '#/definitions/entity.SkinStatistics'
    type: object
  entity.SkinListResponse:
    properties:
      page:
        type: integer
      page_size:
        type: integer
      skins:
        items:
          $ref: '#/definitions/entity.Skin'
        type: array
      total:
        type: integer
      total_pages:
        type: integer
    type: object
  entity.SkinStatistics:
    properties:
      avg_price_7d:
        type: number
      avg_price_30d:
        type: number
      price_volatility:
        type: number
      total_volume_7d:
        type: integer
      view_count:
        type: integer
    type: object
  entity.Translation:
    properties:
      destination:
        example: en
        type: string
      original:
        example: текст для перевода
        type: string
      source:
        example: auto
        type: string
      translation:
        example: text for translation
        type: string
    type: object
  entity.TranslationHistory:
    properties:
      history:
        items:
          $ref: '#/definitions/entity.Translation'
        type: array
    type: object
  entity.TrendingSkin:
    properties:
      price_change_rate:
        type: number
      rank:
        type: integer
      skin:
        $ref: '#/definitions/entity.Skin'
    type: object
  entity.UserResponse:
    properties:
      created_at:
        type: string
      email:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      is_verified:
        type: boolean
      last_login_at:
        type: string
      role:
        $ref: '#/definitions/entity.UserRole'
      username:
        type: string
    type: object
  entity.UserRole:
    enum:
    - user
    - admin
    type: string
    x-enum-varnames:
    - RoleUser
    - RoleAdmin
  entity.Watchlist:
    properties:
      added_at:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      notify_on_drop:
        type: boolean
      notify_on_price:
        type: boolean
      skin_id:
        type: string
      target_price:
        type: number
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  entity.WatchlistWithSkin:
    properties:
      added_at:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      notify_on_drop:
        type: boolean
      notify_on_price:
        type: boolean
      skin:
        $ref: '#/definitions/entity.Skin'
      skin_id:
        type: string
      target_price:
        type: number
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  request.Translate:
    properties:
      destination:
        example: en
        type: string
      original:
        example: текст для перевода
        type: string
      source:
        example: auto
        type: string
    required:
    - destination
    - original
    - source
    type: object
  response.Error:
    properties:
      error:
        example: message
        type: string
    type: object
info:
  contact: {}
paths:
  /api/v1/analytics/market-overview:
    get:
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/entity.MarketOverview'
      summary: Get market overview
      tags:
      - analytics
  /api/v1/analytics/popular-searches:
    get:
      parameters:
      - description: Limit
        in: query
        name: limit
        type: integer
      responses:
        "200":
          description: OK
          schema:
            items:
              type: string
            type: array
      summary: Get popular searches
      tags:
      - analytics
  /api/v1/analytics/trending:
    get:
      parameters:
      - description: 'Period: 24h or 7d'
        in: query
        name: period
        type: string
      - description: Limit
        in: query
        name: limit
        type: integer
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/entity.TrendingSkin'
            type: array
      summary: Get trending skins
      tags:
      - analytics
  /api/v1/auth/login:
    post:
      parameters:
      - description: Login request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/entity.LoginRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/entity.LoginResponse'
      summary: Login user
      tags:
      - auth
  /api/v1/auth/register:
    post:
      parameters:
      - description: Register request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/entity.RegisterRequest'
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/entity.LoginResponse'
      summary: Register new user
      tags:
      - auth
  /api/v1/skins:
    get:
      parameters:
      - description: Weapon filter
        in: query
        name: weapon
        type: string
      - description: Quality filter
        in: query
        name: quality
        type: string
      - description: Min price
        in: query
        name: min_price
        type: number
      - description: Max price
        in: query
        name: max_price
        type: number
      - description: Search query
        in: query
        name: search
        type: string
      - description: 'Sort by: price, volume, name, updated'
        in: query
        name: sort_by
        type: string
      - description: 'Sort order: asc, desc'
        in: query
        name: sort_order
        type: string
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Page size
        in: query
        name: page_size
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/entity.SkinListResponse'
      summary: Get skins list
      tags:
      - skins
  /api/v1/skins/{id}:
    get:
      parameters:
      - description: Skin ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/entity.SkinDetailResponse'
      summary: Get skin by ID
      tags:
      - skins
  /api/v1/skins/{id}/chart:
    get:
      parameters:
      - description: Skin ID
        in: path
        name: id
        required: true
        type: string
      - description: 'Period: 24h, 7d, 30d, 90d, 1y, all'
        in: query
        name: period
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/entity.PriceChartResponse'
      summary: Get price chart
      tags:
      - skins
  /api/v1/skins/search:
    get:
      parameters:
      - description: Search query
        in: query
        name: q
        required: true
        type: string
      - description: Limit
        in: query
        name: limit
        type: integer
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/entity.Skin'
            type: array
      summary: Search skins
      tags:
      - skins
  /api/v1/users/me:
    get:
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/entity.UserResponse'
      security:
      - BearerAuth: []
      summary: Get user profile
      tags:
      - users
  /api/v1/users/me/notifications:
    get:
      parameters:
      - description: Only unread
        in: query
        name: unread
        type: boolean
      - description: Limit
        in: query
        name: limit
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/entity.NotificationListResponse'
      security:
      - BearerAuth: []
      summary: Get user notifications
      tags:
      - users
  /api/v1/users/me/notifications/read:
    post:
      parameters:
      - description: Notification IDs
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/entity.MarkReadRequest'
      responses:
        "200":
          description: OK
      security:
      - BearerAuth: []
      summary: Mark notifications as read
      tags:
      - users
  /api/v1/users/me/watchlist:
    get:
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/entity.WatchlistWithSkin'
            type: array
      security:
      - BearerAuth: []
      summary: Get user watchlist
      tags:
      - users
  /api/v1/users/me/watchlist/{skin_id}:
    delete:
      parameters:
      - description: Skin ID
        in: path
        name: skin_id
        required: true
        type: string
      responses:
        "204":
          description: No Content
      security:
      - BearerAuth: []
      summary: Remove skin from watchlist
      tags:
      - users
    post:
      parameters:
      - description: Skin ID
        in: path
        name: skin_id
        required: true
        type: string
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/entity.Watchlist'
      security:
      - BearerAuth: []
      summary: Add skin to watchlist
      tags:
      - users
  /translation/do-translate:
    post:
      consumes:
      - application/json
      description: Translate a text
      operationId: do-translate
      parameters:
      - description: Set up translation
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.Translate'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/entity.Translation'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Error'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Error'
      summary: Translate
      tags:
      - translation
  /translation/history:
    get:
      consumes:
      - application/json
      description: Show all translation history
      operationId: history
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/entity.TranslationHistory'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Error'
      summary: Show history
      tags:
      - translation
swagger: "2.0"
